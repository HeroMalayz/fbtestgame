<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Ads Simulator</title>
    <style>
        body {
            margin: 0;
            background: #f0f2f5;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .game-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }

        .header {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .status-bar {
            display: flex;
            gap: 30px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress-bar {
            width: 100px;
            height: 8px;
            background: #e4e6eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #1877f2;
            transition: width 0.5s ease;
        }

        .screen {
            display: none;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .fb-button {
            background: #1877f2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .fb-button:hover {
            background: #166fe5;
            transform: translateY(-1px);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .task-card {
            text-align: center;
            padding: 40px 20px;
            border: 2px dashed #e4e6eb;
            border-radius: 8px;
        }

        .campaign-step {
            padding: 20px;
            border-bottom: 1px solid #e4e6eb;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <div class="status-bar">
                <div class="status-item">
                    <div class="progress-bar">
                        <div class="progress-fill" id="budget-progress"></div>
                    </div>
                    <span>$<span id="current-budget">100.00</span></span>
                </div>
                <div class="status-item">
                    <div class="progress-bar">
                        <div class="progress-fill" id="leads-progress"></div>
                    </div>
                    <span>Leads: <span id="current-leads">0</span>/50</span>
                </div>
                <div class="status-item">Day: <span id="current-day">1</span></div>
            </div>
        </div>

        <div id="task-screen" class="screen active">
            <div class="task-card">
                <h2>üìå Current Objective</h2>
                <p>Generate 50 leads within 7 days</p>
                <button class="fb-button" onclick="startGame()">Start Campaign</button>
            </div>
        </div>

        <div id="campaign-screen" class="screen">
            <div class="campaign-flow"></div>
        </div>

        <div id="results-screen" class="screen">
            <div class="results-card">
                <h2>Campaign Results</h2>
                <div class="metrics-grid"></div>
                <div class="feedback-message"></div>
                <button class="fb-button" onclick="continueCampaign()">Next Campaign</button>
            </div>
        </div>
    </div>

    <script>
        let gameState = {
            budget: 100,
            leads: 0,
            day: 1,
            totalSpent: 0,
            gameOver: false
        };

        function updateUI() {
            document.getElementById('current-budget').textContent = gameState.budget.toFixed(2);
            document.getElementById('current-leads').textContent = gameState.leads;
            document.getElementById('current-day').textContent = gameState.day;
            
            document.getElementById('budget-progress').style.width = 
                Math.min((gameState.budget / 100) * 100, 100) + '%';
            
            document.getElementById('leads-progress').style.width = 
                Math.min((gameState.leads / 50) * 100, 100) + '%';
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        function startGame() {
            showScreen('campaign-screen');
            showCampaignStep('setup');
        }

        function showCampaignStep(step) {
            const steps = {
                setup: `
                    <div class="campaign-step">
                        <h2>üéØ Campaign Objective</h2>
                        <select class="campaign-type">
                            <option value="conversions">Conversions</option>
                            <option value="traffic">Traffic</option>
                            <option value="leads">Lead Generation</option>
                        </select>
                        <label>Daily Budget ($)</label>
                        <input type="range" id="budget" min="5" max="50" value="20" class="budget-slider">
                        <div class="slider-value">$<span>20</span></div>
                        <button class="fb-button" onclick="showCampaignStep('audience')">Next</button>
                    </div>
                `,
                audience: `
                    <div class="campaign-step">
                        <h2>üéØ Audience Targeting</h2>
                        <div class="targeting-grid">
                            <div>
                                <label>Age Range</label>
                                <select class="age-range">
                                    <option value="18-24">18-24</option>
                                    <option value="25-34">25-34</option>
                                    <option value="35-44">35-44</option>
                                </select>
                            </div>
                            <div>
                                <label>Interests</label>
                                <select class="interests">
                                    <option value="tech">Technology</option>
                                    <option value="fashion">Fashion</option>
                                    <option value="fitness">Fitness</option>
                                </select>
                            </div>
                        </div>
                        <button class="fb-button" onclick="showCampaignStep('creative')">Next</button>
                    </div>
                `,
                creative: `
                    <div class="campaign-step">
                        <h2>‚úçÔ∏è Ad Creative</h2>
                        <input type="text" class="ad-headline" placeholder="Ad Headline">
                        <textarea class="ad-text" placeholder="Ad Text..."></textarea>
                        <select class="cta">
                            <option value="signup">Sign Up</option>
                            <option value="learnmore">Learn More</option>
                            <option value="shopnow">Shop Now</option>
                        </select>
                        <button class="fb-button" onclick="runCampaign()">Launch Campaign</button>
                    </div>
                `
            };

            document.querySelector('.campaign-flow').innerHTML = steps[step];
        }

        function runCampaign() {
            const campaignData = {
                budget: parseInt(document.querySelector('.budget-slider').value),
                age: document.querySelector('.age-range').value,
                interests: document.querySelector('.interests').value,
                headline: document.querySelector('.ad-headline').value,
                adText: document.querySelector('.ad-text').value,
                cta: document.querySelector('.cta').value
            };

            // Simple performance calculation
            let qualityScore = 0.5;
            if (campaignData.headline.length > 20) qualityScore += 0.2;
            if (campaignData.adText.length > 50) qualityScore += 0.3;
            if (campaignData.cta === 'signup') qualityScore += 0.2;

            const results = {
                ctr: (Math.random() * 5 + qualityScore * 3).toFixed(1) + '%',
                cpc: '$' + (Math.random() * 2 + 1).toFixed(2),
                conversions: Math.floor(Math.random() * 10 + qualityScore * 5),
                roas: (Math.random() * 3 + qualityScore).toFixed(1) + 'x'
            };

            gameState.budget -= campaignData.budget;
            gameState.leads += results.conversions;
            gameState.day++;
            
            if (gameState.leads >= 50) {
                alert('Congratulations! You reached the goal!');
                gameState.gameOver = true;
            }
            else if (gameState.budget < 5 || gameState.day > 7) {
                alert('Game Over! You didn\'t reach the goal in time.');
                gameState.gameOver = true;
            }

            showResults(results);
            updateUI();
        }

        function showResults(results) {
            document.querySelector('.metrics-grid').innerHTML = `
                <div class="metric-card">
                    <div class="metric-value">${results.ctr}</div>
                    <div class="metric-label">CTR</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${results.cpc}</div>
                    <div class="metric-label">CPC</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">+${results.conversions}</div>
                    <div class="metric-label">Leads</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${results.roas}</div>
                    <div class="metric-label">ROAS</div>
                </div>
            `;
            
            showScreen('results-screen');
        }

        function continueCampaign() {
            if (gameState.gameOver) {
                alert('Game Over! Refresh to start again.');
                return;
            }
            showScreen('campaign-screen');
            showCampaignStep('setup');
        }

        // Initialize the game
        updateUI();
    </script>
</body>
</html>
